---
name: seedance-video-creator
description: Seedance 2.0 专业分镜提示词生成 + 视频生成一体化工具。当用户想要创作分镜视频、使用 Seedance/即梦生成视频、需要专业分镜提示词并直接生成视频时调用。支持多图参考、分镜引导、API 调用生成视频、自动下载。
disable-model-invocation: false
---

# Seedance 2.0 分镜视频创作工具

将创意想法转化为专业分镜提示词，并通过即梦 API 直接生成视频、自动下载。

---

## 前置条件

使用本技能前，确保以下服务可用：

1. **jimeng-free-api-all 服务运行中**（默认端口 8000）
   ```bash
   # Docker 部署
   docker run -it -d --init --name jimeng-free-api-all \
     -p 8000:8000 -e TZ=Asia/Shanghai \
     wwwzhouhui569/jimeng-free-api-all:latest
   ```

2. **获取 SessionID**：
   - 打开 https://jimeng.jianying.com 并登录
   - F12 → Application → Cookies → 复制 `sessionid` 值

3. **环境变量**（可选，也可在交互中指定）：
   - `JIMENG_API_URL`：API 地址（默认 `http://127.0.0.1:8000`）
   - `JIMENG_SESSION_ID`：即梦 SessionID

---

## 核心能力

### Seedance 2.0 特性

**多模态输入**（最多12个文件）：
- 图片：≤9张（首帧/尾帧/角色/场景参考）
- 视频：≤3个，总时长≤15s（运镜/动作/特效参考）
- 音频：≤3个，总时长≤15s（配乐/音效/对白参考）
- 文本：自然语言描述

**视频参数**：
- 模型：`seedance-2.0` / `seedance-2.0-pro`
- 比例：`1:1` / `4:3` / `3:4` / `16:9` / `9:16`
- 分辨率：`480p` / `720p` / `1080p`
- 时长：`4` / `5` / `10` 秒

**交互方式**：使用 `@1`、`@2`（或 `@图1`、`@image1`）指定素材用途

---

## 工作流程

### 模式一：完整引导模式（推荐新手）

适合不确定要什么效果的用户，通过 5 步引导完成创作。

### 模式二：快速生成模式

适合已有明确想法的用户，直接提供提示词和素材即可生成。

### 模式三：纯提示词模式

只生成分镜提示词，不调用 API（用于在即梦平台手动使用）。

---

## 第一阶段：分镜提示词生成

### 步骤一：理解用户想法

用友好的方式询问用户：
1. **你想讲什么故事？**（一句话概括核心内容）
2. **视频时长？**（4/5/10秒，默认10秒）
3. **有参考素材吗？**（图片/视频路径）
4. **是否需要直接生成视频？**（是→进入第二阶段 / 否→只输出提示词）

### 步骤二：深入挖掘细节

根据用户的初步回答，逐步引导完善以下维度：

#### 1. 内容叙事
- 故事的起承转合
- 关键情节和角色
- 对白/旁白内容

#### 2. 视觉风格
- 整体风格：写实/动画/水墨/科幻/复古/电影感
- 色调氛围：明亮/昏暗/暖色/冷色/黑白
- 画面比例：竖屏(9:16)/横屏(16:9)/电影宽屏(2.35:1)/标准(4:3)

#### 3. 镜头语言
- 景别变化：远景→全景→中景→近景→特写
- 运镜方式：推/拉/摇/移/跟/环绕/升降/希区柯克变焦
- 转场方式：硬切/渐变/匹配剪辑/特效转场

#### 4. 动作与节奏
- 主体动作：行走/奔跑/打斗/舞蹈/表情变化
- 动作节奏：舒缓/急促/有张有弛
- 是否需要音乐卡点

#### 5. 声音设计
- 配乐风格：激昂/温馨/悬疑/欢快/史诗
- 音效需求：环境音/动作音效/特殊音效
- 对白/旁白：台词内容和语气

### 步骤三：构建分镜结构

将故事拆解为时间轴上的镜头序列。

**示例结构（10秒视频）**：
```
0-2秒：开场镜头，建立场景
2-4秒：发展，引入主体/冲突
4-7秒：高潮，核心动作/情感爆发
7-9秒：转折/过渡
9-10秒：结尾/落版
```

### 步骤四：生成专业提示词

根据收集的信息，生成符合 Seedance 2.0 语法的提示词。

**提示词结构模板**：
```
【整体描述】风格 + 时长 + 画面比例 + 整体氛围

【分镜描述】
0-X秒：[镜头运动]，[画面内容]，[主体动作]，[光影/特效]
X-Y秒：[镜头运动]，[画面内容]，[主体动作]，[光影/特效]
...

【声音说明】配乐风格/音效/对白

【参考素材说明】（如有）
@1 作为首帧/角色参考
@2 参考运镜/动作
```

**提示词书写原则**：
1. 时间轴清晰，标注每段的秒数范围
2. 镜头语言明确（推/拉/摇/移/跟/环绕等）
3. 动作描述具体，避免模糊词汇
4. 多图引用时使用 `@1`、`@2` 格式（对应上传图片顺序）
5. 总长度控制在 500 字以内，Seedance 对过长提示词效果下降

### 步骤五：优化与确认

- 检查是否违反平台规则（写实人脸限制）
- 提供素材建议
- 确认用户满意后进入第二阶段

---

## 第二阶段：视频生成与下载

### 步骤一：确认生成参数

在调用 API 前，向用户确认以下参数：

| 参数 | 说明 | 默认值 |
|------|------|--------|
| API 地址 | jimeng-free-api-all 服务地址 | `http://127.0.0.1:8000` |
| SessionID | 即梦平台的 sessionid | 环境变量或用户提供 |
| 模型 | seedance-2.0 或 seedance-2.0-pro | `seedance-2.0` |
| 比例 | 视频画面比例 | `16:9` |
| 分辨率 | 480p/720p/1080p | `720p` |
| 时长 | 4/5/10 秒 | `10` |
| 参考图片 | 本地图片路径列表 | 无 |

### 步骤二：调用 API 生成视频

根据是否有参考图片，使用不同的调用方式：

#### 方式A：纯文本生成（无参考图片）

```bash
curl -s -X POST "${API_URL}/v1/videos/generations" \
  -H "Authorization: Bearer ${SESSION_ID}" \
  -H "Content-Type: application/json" \
  -d "{
    \"model\": \"${MODEL}\",
    \"prompt\": \"${PROMPT}\",
    \"ratio\": \"${RATIO}\",
    \"resolution\": \"${RESOLUTION}\",
    \"duration\": ${DURATION}
  }"
```

#### 方式B：多图参考生成（有本地图片）

```bash
curl -s -X POST "${API_URL}/v1/videos/generations" \
  -H "Authorization: Bearer ${SESSION_ID}" \
  -F "model=${MODEL}" \
  -F "prompt=${PROMPT}" \
  -F "ratio=${RATIO}" \
  -F "resolution=${RESOLUTION}" \
  -F "duration=${DURATION}" \
  -F "files=@/path/to/image1.jpg" \
  -F "files=@/path/to/image2.jpg"
```

#### 方式C：多图参考生成（图片 URL）

```bash
curl -s -X POST "${API_URL}/v1/videos/generations" \
  -H "Authorization: Bearer ${SESSION_ID}" \
  -H "Content-Type: application/json" \
  -d "{
    \"model\": \"${MODEL}\",
    \"prompt\": \"${PROMPT}\",
    \"ratio\": \"${RATIO}\",
    \"resolution\": \"${RESOLUTION}\",
    \"duration\": ${DURATION},
    \"file_paths\": [\"https://example.com/img1.jpg\", \"https://example.com/img2.jpg\"]
  }"
```

**重要**：
- API 是同步阻塞的，会自动轮询直到视频生成完成（通常 60-120 秒）
- curl 超时建议设置为 300 秒：`--max-time 300`
- 提示词中的 `@1`、`@2` 对应 `files` 参数中图片的上传顺序

### 步骤三：解析结果

API 返回 OpenAI 兼容格式：

```json
{
  "created": 1700000000,
  "data": [
    {
      "url": "https://v3-dreamnia.jimeng.com/...",
      "revised_prompt": "原始提示词"
    }
  ]
}
```

从响应中提取 `data[0].url` 即为视频下载地址。

### 步骤四：下载视频

```bash
# 提取视频 URL 并下载
VIDEO_URL=$(echo "${RESPONSE}" | jq -r '.data[0].url')
OUTPUT_FILE="seedance_$(date +%Y%m%d_%H%M%S).mp4"
curl -L -o "${OUTPUT_FILE}" "${VIDEO_URL}"
echo "视频已下载到: $(pwd)/${OUTPUT_FILE}"
```

### 步骤五：展示结果

向用户报告：
1. 视频生成成功/失败
2. 视频文件路径和大小
3. 使用的提示词（方便用户微调重试）

---

## 错误处理

### API 错误码

| 状态码 | 含义 | 处理方式 |
|--------|------|----------|
| 200 | 成功 | 提取 data[0].url |
| 401 | SessionID 过期 | 提示用户重新获取 |
| 400 | 参数错误 | 检查 model/ratio/duration |
| 429 | 积分不足 | 提示用户等待或充值 |
| 500 | 服务器错误 | 重试或检查服务状态 |

### 常见问题

| 问题 | 解决方案 |
|------|----------|
| 连接拒绝 | 检查 jimeng-free-api-all 容器是否运行 |
| 生成超时 | 增加 curl --max-time，或降低分辨率 |
| 内容被过滤 | 修改提示词，避免敏感内容 |
| 视频 URL 失效 | URL 有时效性，及时下载 |
| 积分不足 | 每日免费积分有限，次日刷新 |

---

## 完整示例对话

### 示例：海边跳舞视频

**用户**：帮我生成一个女孩在海边跳舞的视频

**引导**：
1. 什么风格的舞蹈？现代舞/古典舞/街舞/自由舞动？
2. 海边是什么时间？日出/白天/日落/夜晚？
3. 整体氛围？欢快/忧伤/自由/浪漫？
4. 时长多少秒？有参考图片吗？

**生成的提示词**：
```
电影级写实风格，10秒，16:9宽屏，日落黄金时刻的温暖氛围

0-2秒：远景缓慢推近，海平线夕阳，女孩剪影站在沙滩上，裙摆被海风吹动
2-5秒：中景环绕镜头，女孩开始旋转起舞，长发和裙摆飞扬，夕阳逆光形成轮廓光
5-8秒：近景跟随移动，女孩面向镜头舞动，表情自由愉悦，海浪轻拍沙滩作为背景
8-10秒：远景拉远，女孩在落日余晖中定格，画面渐暗

背景音效：海浪声 + 轻柔的钢琴配乐
```

**API 调用**：
```bash
curl -s --max-time 300 -X POST "http://127.0.0.1:8000/v1/videos/generations" \
  -H "Authorization: Bearer ${SESSION_ID}" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "seedance-2.0",
    "prompt": "电影级写实风格，10秒，16:9宽屏，日落黄金时刻的温暖氛围\n\n0-2秒：远景缓慢推近，海平线夕阳，女孩剪影站在沙滩上，裙摆被海风吹动\n2-5秒：中景环绕镜头，女孩开始旋转起舞，长发和裙摆飞扬，夕阳逆光形成轮廓光\n5-8秒：近景跟随移动，女孩面向镜头舞动，表情自由愉悦，海浪轻拍沙滩作为背景\n8-10秒：远景拉远，女孩在落日余晖中定格，画面渐暗\n\n背景音效：海浪声 + 轻柔的钢琴配乐",
    "ratio": "16:9",
    "resolution": "720p",
    "duration": 10
  }'
```

### 示例：多图参考视频

**用户**：用这两张图片生成一个两人跳舞的视频
- 图片1：/home/user/dancer1.jpg
- 图片2：/home/user/dancer2.jpg

**生成的提示词**：
```
电影级写实风格，10秒，4:3画幅，舞台灯光氛围

0-2秒：中景，@1 和 @2 面对面站立，灯光从上方打下，准备动作
2-5秒：全景，两人开始双人舞，镜头缓慢环绕，动作优雅协调
5-8秒：中近景跟随，舞步加快，旋转动作，光影交错
8-10秒：远景拉出，两人定格在舞蹈结束的pose，画面渐暗
```

**API 调用**：
```bash
curl -s --max-time 300 -X POST "http://127.0.0.1:8000/v1/videos/generations" \
  -H "Authorization: Bearer ${SESSION_ID}" \
  -F "model=seedance-2.0" \
  -F "prompt=电影级写实风格，10秒，4:3画幅，舞台灯光氛围..." \
  -F "ratio=4:3" \
  -F "resolution=720p" \
  -F "duration=10" \
  -F "files=@/home/user/dancer1.jpg" \
  -F "files=@/home/user/dancer2.jpg"
```

---

## 分镜模板速查

### 模板一：叙事故事类

```
【风格】电影级写实/动画/水墨/科幻风格
【时长】10秒
【画幅】16:9

0-2秒：[镜头运动]，[场景建立]，[主体引入]
2-4秒：[镜头运动]，[情节发展]，[动作描述]
4-7秒：[镜头运动]，[高潮/冲突]，[情绪爆发]
7-9秒：[镜头运动]，[转折/过渡]
9-10秒：[镜头运动]，[结尾/落版]

【声音】配乐风格 + 音效 + 对白
【参考】@1 作为首帧，@2 参考角色
```

### 模板二：产品展示类

```
【风格】商业广告/极简/高端/科技感
【时长】10秒

0-2秒：开场抓眼球，产品特写或悬念设置
2-4秒：产品全景展示，运镜环绕/推拉
4-7秒：产品细节特写，材质/工艺展示
7-9秒：使用场景，产品在实际环境中的应用
9-10秒：品牌落版，slogan展示

【声音】大气恢宏/轻快时尚/科技感配乐
【参考】@1 产品外观，@2 材质参考
```

### 模板三：角色动作类

```
【风格】根据角色设定（武侠/科幻/现代/奇幻）
【时长】10秒

0-2秒：角色亮相，定格或缓慢展示造型
2-4秒：动作起始，准备姿势
4-8秒：核心动作展示（打斗/舞蹈/特技）
8-9秒：动作收尾，pose定格
9-10秒：特效/氛围强化，画面落版

【声音】动作音效 + 氛围配乐
【参考】@1 角色形象，@2 动作参考
```

### 模板四：风景旅拍类

```
【风格】电影级纪录片/治愈系/史诗感
【时长】10秒

0-2秒：大景别建立镜头，展示环境全貌
2-4秒：中景推进，引入人物或细节
4-7秒：多角度切换，展示环境不同面貌
7-9秒：特写细节，光影变化
9-10秒：回到大景别或意境落版

【声音】环境音 + 氛围配乐
【参考】@1-@5 场景参考
```

### 模板五：视频延长/续拍

```
将@视频1延长X秒（生成长度选择X秒）

延续前视频的风格和主体：
0-X秒：[新内容描述]，与前视频无缝衔接

【要求】保持角色一致性，动作连贯流畅
```

### 模板六：剧情颠覆/编辑

```
基于@视频1进行编辑：

【保留】原视频的运镜/部分动作/场景
【修改】[具体修改点]
【颠覆】[剧情反转描述]

【要求】保持镜头连贯，只在指定位置修改
```

---

## 镜头语言速查

| 中文 | 效果 | 适用场景 |
|------|------|----------|
| 推镜头 | 强调主体，营造紧张感 | 情感爆发、细节展示 |
| 拉镜头 | 展现场景，营造疏离感 | 开场建立、结尾收束 |
| 摇镜头 | 左右/上下展示环境 | 环境介绍、角色关系 |
| 移镜头 | 平行移动，跟随主体 | 行走、追逐 |
| 跟镜头 | 跟随主体移动 | 动作跟拍 |
| 环绕镜头 | 360度展示主体 | 产品展示、角色亮相 |
| 升降镜头 | 从上往下或从下往上 | 场景全貌、气势展示 |
| 希区柯克变焦 | 背景压缩/拉伸效果 | 悬疑、心理变化 |
| 手持晃动 | 纪实感/紧张感 | 纪录片、追逐 |
| 一镜到底 | 不切镜头，连续拍摄 | 沉浸感、长叙事 |

## 氛围关键词速查

**光影**：逆光、侧光、顶光、伦勃朗光、剪影、轮廓光、体积光、丁达尔效应
**色调**：暖色调、冷色调、高饱和、低饱和、黑白、赛博朋克、复古胶片
**质感**：电影级、纪录片风格、广告质感、MV风格、油画感、水墨感
**情绪**：温馨、紧张、悬疑、欢快、忧伤、史诗、治愈、惊悚

---

## 特殊场景处理

### 1. 角色一致性需求
- 建议用户提供角色参考图作为 `files` 上传
- 提示词中用 `@1` 指定角色参考
- 注意：暂不支持写实真人脸部素材

### 2. 运镜/动作复刻
- 建议用户提供参考视频
- 提示词中说明"完全参考@视频1的所有运镜效果"

### 3. 视频延长
- 明确说明"将@视频1延长Xs"
- duration 参数设为新增部分的时长

### 4. 剧情颠覆/编辑
- 基于已有视频进行修改时，清晰描述改动点

### 5. 音乐卡点
- 时间轴标注与音乐重拍对齐
- 建议提供参考视频展示节奏

---

## 注意事项

- 暂不支持上传包含写实真人脸部的素材
- 视频参考会消耗更多生成额度
- 混合输入总上限是12个文件
- 优先上传对画面影响最大的素材
- API 调用是同步阻塞的，生成 10 秒视频通常需要 60-120 秒
- 视频下载 URL 有时效性，生成后应立即下载
- 每日免费积分有限（约66积分），合理规划使用

---

## 输出格式

最终输出应包含：
1. **理解确认**：确认理解的故事内容
2. **分镜提示词**：可直接使用的完整提示词
3. **生成参数**：model/ratio/resolution/duration
4. **生成结果**：视频文件路径（如果调用了 API）
5. **使用提示**：如需在即梦平台手动使用的说明
